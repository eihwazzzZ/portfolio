<div class="flex flex-col h-screen" cdkDropListGroup>
    <div class="flex-1 flex justify-center items-center" >
        <mat-card class="flex flex-col items-center bg-white shadow-lg rounded-xl h-full">
        <mat-card-header class="w-full flex text-center">
            <mat-card-title>Zona de batalla</mat-card-title>
            <mat-card-subtitle>Aqu√≠ se disponen las cartas</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content class="flex flex-col justify-between items-center w-full h-full">
            <div class="flex-1  flex justify-center items-center border-dashed border-2 border-indigo-600 w-[500px] h-[500px] relative z-20"
            cdkDropList (cdkDropListDropped)="drop($event)" [cdkDropListData]="cardsDropZone"
            >
                Drop here
                @for (dropedCard of cardsDropZone; track dropedCard){
                    <div class="w-[200px] h-[300px] m-4 cdk-drag" [@entrada] [@girar]="cartaEstado[dropedCard.id]" (click)="girarCarta(dropedCard.id)">
                        <div class="relative w-full h-full">
                                <div class="absolute w-full h-full rounded-xl"
                                >
                                    <mat-card class="bg-white shadow-lg rounded-xl h-full" [ngStyle]="{
                                        'background-image': !shouldChangeBg[dropedCard.id] ? 'url(/assets/images/DIAMOND_BG.svg)' : 'none',
                                        'background-size': !shouldChangeBg[dropedCard.id] ? 'cover' : 'contain',
                                        'background-position': !shouldChangeBg[dropedCard.id] ? 'center' : 'center',
                                        'border': !shouldChangeBg[dropedCard.id] ? '5px solid #000' : '2px dashed #999'
                                    }">
                                    <mat-card-header>
                                        <mat-card-title> {{ shouldChangeBg[dropedCard.id] ? 'Carta ' + dropedCard : '' }}</mat-card-title>
                                    </mat-card-header>
                                    <mat-card-content>
                                        <p>{{ shouldChangeBg[dropedCard.id] ? 'Contenido de la carta' + dropedCard  : '' }}</p>
                                    </mat-card-content>
                                    </mat-card>
                                </div>
                        </div>
                    </div>
                }
            </div>
        </mat-card-content>
        </mat-card>
    </div>
    <div class="flex-1 flex justify-center items-center" cdkDropList [cdkDropListData]="cards">
        @for(card of cards; track card) {
            <div class="w-[200px] h-[300px] m-4 cdk-drag" [@entrada] [@girar]="cartaEstado[card.id]" (click)="girarCarta(card.id)" (cdkDragEnded)="dragEnded($event)" [cdkDragData]="card" cdkDrag>
                <div class="relative w-full h-full">
                        <div class="absolute w-full h-full rounded-xl"
                        >
                            <mat-card class="bg-white shadow-lg rounded-xl h-full" [ngStyle]="{
                                'background-image': !shouldChangeBg[card.id] ? 'url(/assets/images/DIAMOND_BG.svg)' : 'none',
                                'background-size': !shouldChangeBg[card.id] ? 'cover' : 'contain',
                                'background-position': !shouldChangeBg[card.id] ? 'center' : 'center',
                                'border': !shouldChangeBg[card.id] ? '5px solid #000' : '2px dashed #999'
                            }">
                            <mat-card-header>
                                <mat-card-title> {{ shouldChangeBg[card.id] ? 'Carta ' + card : '' }}</mat-card-title>
                            </mat-card-header>
                            <mat-card-content>
                                <p>{{ shouldChangeBg[card.id] ? 'Contenido de la carta' + card  : '' }}</p>
                            </mat-card-content>
                            </mat-card>
                        </div>
                </div>
            </div>
        }
    </div>
</div>
  